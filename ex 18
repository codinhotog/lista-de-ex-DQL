CREATE TABLE disciplinas ( 
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, 
    nome VARCHAR2(100) NOT NULL 
);

CREATE TABLE alunos ( 
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, 
    nome VARCHAR2(100) NOT NULL 
);

CREATE TABLE matriculas ( 
    aluno_id NUMBER NOT NULL, 
    disciplina_id NUMBER NOT NULL, 
    FOREIGN KEY (aluno_id) REFERENCES alunos(id), 
    FOREIGN KEY (disciplina_id) REFERENCES disciplinas(id), 
    PRIMARY KEY (aluno_id, disciplina_id) 
);

INSERT INTO disciplinas (nome) VALUES ('Matemática');

INSERT INTO disciplinas (nome) VALUES ('Física');

INSERT INTO disciplinas (nome) VALUES ('Química');

INSERT INTO disciplinas (nome) VALUES ('História');

INSERT INTO disciplinas (nome) VALUES ('Geografia');

INSERT INTO alunos (nome) VALUES ('Lucas');

INSERT INTO alunos (nome) VALUES ('Mariana');

INSERT INTO alunos (nome) VALUES ('Pedro');

INSERT INTO alunos (nome) VALUES ('Ana');

INSERT INTO alunos (nome) VALUES ('Beatriz');

INSERT INTO alunos (nome) VALUES ('Felipe');

INSERT INTO alunos (nome) VALUES ('Julia');

INSERT INTO alunos (nome) VALUES ('Rafael');

INSERT INTO alunos (nome) VALUES ('Carla');

INSERT INTO alunos (nome) VALUES ('Paula');

INSERT INTO matriculas (aluno_id, disciplina_id) VALUES (1, 1);

INSERT INTO matriculas (aluno_id, disciplina_id) VALUES (2, 1);

INSERT INTO matriculas (aluno_id, disciplina_id) VALUES (3, 1);

INSERT INTO matriculas (aluno_id, disciplina_id) VALUES (4, 1);

INSERT INTO matriculas (aluno_id, disciplina_id) VALUES (5, 1);

INSERT INTO matriculas (aluno_id, disciplina_id) VALUES (6, 2);

INSERT INTO matriculas (aluno_id, disciplina_id) VALUES (7, 2);

INSERT INTO matriculas (aluno_id, disciplina_id) VALUES (8, 2);

INSERT INTO matriculas (aluno_id, disciplina_id) VALUES (9, 2);

INSERT INTO matriculas (aluno_id, disciplina_id) VALUES (10, 2);

SELECT d.nome AS disciplina 
FROM disciplinas d 
JOIN matriculas m ON d.id = m.disciplina_id 
GROUP BY d.nome 
HAVING COUNT(m.aluno_id) >= 5;
